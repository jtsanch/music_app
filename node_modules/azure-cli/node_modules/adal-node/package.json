{
  "name": "adal-node",
  "author": {
    "name": "Microsoft Open Technologies Inc",
    "email": "msopentech@microsoft.com",
    "url": "http://msopentech.com/"
  },
  "licenses": [
    {
      "type": "Apache 2.0",
      "url": "http://www.apache.org/licenses/LICENSE-2.0"
    }
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/MSOpenTech/azure-activedirectory-library-for-nodejs.git"
  },
  "version": "0.1.5",
  "description": "Windows Azure Active Directory Client Library for node",
  "keywords": [
    "node",
    "azure",
    "AAD",
    "adal",
    "adfs",
    "oauth"
  ],
  "main": "./lib/adal.js",
  "engines": {
    "node": ">= 0.6.15"
  },
  "dependencies": {
    "date-utils": "*",
    "node-uuid": "1.4.1",
    "request": ">= 2.9.203",
    "underscore": ">= 1.3.1",
    "xmldom": ">= 0.1.x",
    "xpath.js": "0.0.3"
  },
  "devDependencies": {
    "async": "*",
    "jshint": "*",
    "mocha": "*",
    "nock": "*",
    "sinon": "*"
  },
  "scripts": {
    "test": "mocha -R spec --ui tdd test",
    "cover": "./test/util/cover",
    "doc": "jsdoc lib"
  },
  "readme": "# Windows Azure Active Directory Authentication Library (ADAL) for Node.js\nThe ADAL for node.js library makes it easy for node.js applications to authenticate to AAD in order to access AAD protected web resources.  It supports 3 authentication modes shown in the quickstart code below.\n\n## Quick Start\n### Installation\n\n``` $ npm install adal-node ```\n\n### Authorization Code\n\nSee the [website sample](https://github.com/MSOpenTech/azure-activedirectory-library-for-nodejs/blob/master/sample/website-sample.js) for a complete bare bones express based web site that makes use of the code below.\n\n```javascript\nvar AuthenticationContext = require('adal-node').AuthenticationContext;\n\nvar clientId = 'yourClientIdHere';\nvar clientSecret = 'youAADIssuedClientSecretHere'\nvar redirectUri = 'yourRedirectUriHere';\nvar authorityHostUrl = 'https://login.windows.net';\nvar tenant = 'myTenant';\nvar authorityUrl = authorityHostUrl + '/' + tenant;\nvar redirectUri = 'http://localhost:3000/getAToken';\nvar resource = '00000002-0000-0000-c000-000000000000';\nvar templateAuthzUrl = 'https://login.windows.net/' + \n                        tenant + \n                        '/oauth2/authorize?response_type=code&client_id=' +\n                        clientId + \n                        '&redirect_uri=' + \n                        redirectUri + '\n                        &state=<state>&resource=' + \n                        resource;\n\nfunction createAuthorizationUrl(state) {\n  var authorizationUrl = templateAuthzUrl.replace('<client_id>', sampleParameters.clientId);\n  authorizationUrl = authorizationUrl.replace('<redirect_uri>',redirectUri);\n  authorizationUrl = authorizationUrl.replace('<state>', state);\n  authorizationUrl = authorizationUrl.replace('<resource>', resource);\n  return authorizationUrl;\n}\n\n// Clients get redirected here in order to create an OAuth authorize url and redirect them to AAD.\n// There they will authenticate and give their consent to allow this app access to\n// some resource they own.\napp.get('/auth', function(req, res) {\n  crypto.randomBytes(48, function(ex, buf) {\n    var token = buf.toString('base64').replace(/\\//g,'_').replace(/\\+/g,'-');\n\n    res.cookie('authstate', token);\n    var authorizationUrl = createAuthorizationUrl(token);\n\n    res.redirect(authorizationUrl);\n  });\n});\n\n// After consent is granted AAD redirects here.  The ADAL library is invoked via the\n// AuthenticationContext and retrieves an access token that can be used to access the\n// user owned resource.\napp.get('/getAToken', function(req, res) {\n  if (req.cookies.authstate !== req.query.state) {\n    res.send('error: state does not match');\n  }\n\n  var authenticationContext = new AuthenticationContext(authorityUrl);\n\n  authenticationContext.acquireTokenWithAuthorizationCode(\n    req.query.code,\n    redirectUri,\n    resource,\n    clientId, \n    clientSecret,\n    function(err, response) {\n      var errorMessage = '';\n      if (err) {\n        errorMessage = 'error: ' + err.message + '\\n';\n      }\n      errorMessage += 'response: ' + JSON.stringify(response);\n      res.send(errorMessage);\n    }\n  );\n});\n```\n\n### Server to Server via Client Credentials\n\nSee the [client credentials sample](https://github.com/MSOpenTech/azure-activedirectory-library-for-nodejs/blob/master/sample/client-credentials-sample.js).\n\n```javascript\nvar adal = require('adal-node').AuthenticationContext;\n\nvar tenant = 'myTenant';\nvar authorityUrl = 'https://windows.login.net/' + tenant;\nvar clientId = 'myClientId';\nvar clientSecret = 'aadIssuedClientSecret';\nvar resource = '00000002-0000-0000-c000-000000000000';\n\nvar context = new AuthenticationContext(authorityUrl);\n\ncontext.acquireTokenWithClientCredentials(resource, clientId, clientSecret, function(err, tokenResponse) {\n  if (err) {\n    console.log('well that didn\\'t work: ' + err.stack);\n  } else {\n    console.log(tokenResponse);\n  }\n});\n```\n\n## License\nCopyright (c) Microsoft Open Technologies, Inc.  All rights reserved. Licensed under the Apache License, Version 2.0 (the \"License\"); ",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/MSOpenTech/azure-activedirectory-library-for-nodejs/issues"
  },
  "homepage": "https://github.com/MSOpenTech/azure-activedirectory-library-for-nodejs",
  "_id": "adal-node@0.1.5",
  "dist": {
    "shasum": "0ccb0abc4ed981a78ec7645ce62d29aedd2cd0e7"
  },
  "_from": "adal-node@~0.1.5",
  "_resolved": "https://registry.npmjs.org/adal-node/-/adal-node-0.1.5.tgz"
}
